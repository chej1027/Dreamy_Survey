
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>수면 패턴 맞춤 설문</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: Arial, sans-serif; 
      background: url('https://i.imgur.com/1OpiwKZ.jpeg') no-repeat center center/cover;
      color: white;
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
    }

    h1 {
      font-family: 'Playfair Display', serif; 
      font-size: 3rem;
      font-weight: bold;
      text-align: center;
      margin-top: 100px;
      margin-bottom: 100px; 
      text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
    }

    .menu {
      position: absolute;
      top: 10px;
      right: 20px;
      z-index: 10;
      display: flex;
      gap: 20px;
      font-size: 20px;
      color: white;
    }

    .menu a {
      text-decoration: none;
      color: white;
      font-weight: bold;
      font-family: 'Playfair Display', serif;
      transition: opacity 0.3s;
    }

    .menu a:hover {
      opacity: 0.7;
    }

    .survey-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      justify-content: center;
      max-width: 800px;
      width: 100%;
    }

    .question-box {
      background: linear-gradient(to bottom, #45688e, #7a9abf); 
      border-radius: 15px;
      padding: 20px;
      width: 300px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      text-align: center;
    }

    .question-box h2 {
      font-size: 1.2rem;
      margin-bottom: 15px;
    }

    .option-group {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .option-group label {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: white;
      color: black;
      padding: 10px 15px;
      border-radius: 10px;
      font-size: 1rem;
      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .option-group input[type="radio"] {
      accent-color: navy;
      transform: scale(1.2);
    }

    .option-group label:hover {
      background: #f0f0f0;
    }

    canvas {
      margin-top: 30px;
      border: 2px solid white;
      background-color: white;
      display: block;
    }

    .result-button {
      margin-top: 30px;
      padding: 10px 20px;
      background: #7a9abf;
      color: white;
      font-size: 1.2rem;
      font-weight: bold;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
      transition: background 0.3s ease;
    }

    .result-button:hover {
      background: #45688e;
    }

    .result {
      margin-top: 20px;
      text-align: center;
      font-size: 1.5rem;
      color: #fffdbb;
    }
  </style>
</head>
<body>
  <!-- Menu Section -->
  <div class="menu">
    <a href="https://chej1027.github.io/chej2222/">Main</a>
    <a href="https://chej1027.github.io/chej2223/">Survey</a>
    <a href="#mockup">Mockup</a>
  </div>

  <h1>SURVEY</h1>
  
  <!-- 설문 컨테이너 -->
  <div class="survey-container">
    <!-- 설문 질문들 -->
    <div class="question-box">
      <h2>1. 하루 평균 수면 시간은 몇 시간인가요?</h2>
      <div class="option-group">
        <label>
          4시간 이하
          <input type="radio" name="sleepTime" value="4">
        </label>
        <label>
          5~8시간
          <input type="radio" name="sleepTime" value="6.5">
        </label>
        <label>
          9시간 이상
          <input type="radio" name="sleepTime" value="9">
        </label>
      </div>
    </div>

    <div class="question-box">
      <h2>2. 주로 어떤 자세로 잠을 주무시나요?</h2>
      <div class="option-group">
        <label>
          똑바로 누워서 (민무늬)
          <input type="radio" name="pattern" value="solid">
        </label>
        <label>
          옆으로 누워서 (스트라이프)
          <input type="radio" name="pattern" value="stripe">
        </label>
        <label>
          엎드려서 (체크)
          <input type="radio" name="pattern" value="check">
        </label>
      </div>
    </div>

    <div class="question-box">
      <h2>3. 수면 중 꿈을 자주 꾸나요?</h2>
      <div class="option-group">
        <label>
          자주 꾼다 (생동감 있는 패턴)
          <input type="radio" name="vividness" value="dynamic">
        </label>
        <label>
          가끔 꾼다 (잔잔한 무늬)
          <input type="radio" name="vividness" value="calm">
        </label>
        <label>
          거의 꾸지 않는다 (심플한 패턴)
          <input type="radio" name="vividness" value="simple">
        </label>
      </div>
    </div>

    <div class="question-box">
      <h2>4. 수면 전 가장 자주 느끼는 감정은 무엇인가요?</h2>
      <div class="option-group">
        <label>
          평온함 (연팽크)
          <input type="radio" name="color" value="green">
        </label>
        <label>
          긴장감 (하늘)
          <input type="radio" name="color" value="blue">
        </label>
        <label>
          설렘 (연보라)
          <input type="radio" name="color" value="ivory">
        </label>
      </div>
    </div>

    <div class="question-box">
      <h2>5. 수면 후 가장 바라는 기분은 어떤가요?</h2>
      <div class="option-group">
        <label>
          차분함 (톤다운)
          <input type="radio" name="tone" value="dark">
        </label>
        <label>
          행복감 (파스텔톤)
          <input type="radio" name="tone" value="pastel">
        </label>
      </div>
    </div>

    <div class="question-box">
      <h2>6. 아침 기상 난이도는 어떤가요?</h2>
      <div class="option-group">
        <label>
          네
          <input type="radio" name="morning" value="yes">
        </label>
        <label>
          보통
          <input type="radio" name="morning" value="average">
        </label>
        <label>
          아니오
          <input type="radio" name="morning" value="no">
        </label>
      </div>
    </div>
    <div class="question-box">
  <h2>7. 아침에 몇 번의 알람을 듣고 일어나시나요?</h2>
  <div class="option-group">
    <label>
      1번 (빠른 기상)
      <input type="radio" name="alarm" value="1">
    </label>
    <label>
      2~3번 (평균적인 기상)
      <input type="radio" name="alarm" value="2-3">
    </label>
    <label>
      4번 이상 (어려운 기상)
      <input type="radio" name="alarm" value="4+">
    </label>
  </div>
</div>

<div class="question-box">
  <h2>8. 주말과 평일 수면 패턴의 차이는 얼마나 되나요?</h2>
  <div class="option-group">
    <label>
      거의 차이 없음
      <input type="radio" name="patternDiff" value="none">
    </label>
    <label>
      1~2시간
      <input type="radio" name="patternDiff" value="1-2">
    </label>
    <label>
      3시간 이상
      <input type="radio" name="patternDiff" value="3+">
    </label>
  </div>
</div>
  </div>
  </div>

  <button class="result-button" id="generate-pattern">패턴 생성</button>
  <canvas id="patternCanvas" width="500" height="500"></canvas>
  <div class="result" id="resultDisplay"></div><script>
document.getElementById('generate-pattern').addEventListener('click', function() {
  const sleepTime = document.querySelector('input[name="sleepTime"]:checked')?.value;
  const pattern = document.querySelector('input[name="pattern"]:checked')?.value;
  const vividness = document.querySelector('input[name="vividness"]:checked')?.value;
  const color = document.querySelector('input[name="color"]:checked')?.value;
  const tone = document.querySelector('input[name="tone"]:checked')?.value;
  const morning = document.querySelector('input[name="morning"]:checked')?.value;
  const alarm = document.querySelector('input[name="alarm"]:checked')?.value;
  const patternDiff = document.querySelector('input[name="patternDiff"]:checked')?.value;

  if (!sleepTime || !pattern || !vividness || !color || !tone || !morning || !alarm || !patternDiff) {
    alert('모든 질문에 답변해 주세요!');
    return;
  }

  const canvas = document.getElementById('patternCanvas');
  const ctx = canvas.getContext('2d');

  const colors = {
    green: '#FFC0CB', 
    blue: '#87CEEB', 
    ivory: '#E6E6FA'
  };

  const tones = {
    dark: 'rgba(0, 0, 0, 0.5)',
    pastel: 'rgba(255, 255, 255, 0.8)'
  };

  ctx.clearRect(0, 0, canvas.width, canvas.height);

  ctx.fillStyle = tones[tone] || '#FFFFFF';
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  const patterns = {
    solid: drawSolidPattern,
    stripe: drawStripePattern,
    check: drawCheckPattern
  };

  const vividnessIntensity = vividness === 'dynamic' ? 15 : vividness === 'calm' ? 30 : 50;
  const primaryColor = colors[color] || '#CCCCCC';

  patterns[pattern]?.(ctx, canvas.width, canvas.height, primaryColor, vividnessIntensity);

  document.getElementById('resultDisplay').innerText = `
    수면 시간: ${sleepTime}시간, 패턴: ${pattern}, 감정: ${color}, 
    기상 난이도: ${morning}, 알람 횟수: ${alarm}, 패턴 차이: ${patternDiff}
  `;
});

function drawSolidPattern(ctx, width, height, color) {
  ctx.fillStyle = color;
  ctx.fillRect(0, 0, width, height);
}

function drawStripePattern(ctx, width, height, color, spacing) {
  ctx.fillStyle = color;
  for (let i = 0; i < width; i += spacing) {
    ctx.fillRect(i, 0, spacing / 2, height);
  }
}

function drawCheckPattern(ctx, width, height, color, size) {
  ctx.fillStyle = color;
  for (let y = 0; y < height; y += size) {
    for (let x = 0; x < width; x += size) {
      if ((x / size + y / size) % 2 === 0) {
        ctx.fillRect(x, y, size, size);
      }
    }
  }
}
</script>
